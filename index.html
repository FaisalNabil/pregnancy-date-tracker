<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pregnancy Date Tracker</title>
  <link rel="icon" type="image/png" href="6371247.jpg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container py-5">
    <div class="text-center mb-4">
      <img src="logo.png" alt="Pregnancy Tracker Logo" style="max-width: 120px;" class="mb-3">
      <h1 class="fw-bold">Pregnancy Date Tracker</h1>
      <p class="text-muted">Track your weeks, EDD, tests, nutrition, and more ‚Äî all in your browser.</p>
    </div>    

    <form id="dateForm" class="card p-4 shadow-sm">
      <div class="mb-3">
        <label for="calcMethod" class="form-label">Choose a Method</label>
        <select id="calcMethod" class="form-select" required>
          <option value="lmp">LMP (Last Menstrual Period)</option>
          <option value="conception">Conception Date</option>
          <option value="edd">EDD (Expected Due Date)</option>
          <option value="scan">Scan Date + GA</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="dateInput" class="form-label">Enter the Date</label>
        <input type="text" id="dateInput" class="form-control" placeholder="Select date..." />
      </div>

      <div id="scanInputs" class="row g-2 mt-2 d-none">
        <div class="col-md-4">
          <label class="form-label">Scan Date</label>
          <input type="text" id="scanDate" class="form-control" />
        </div>
        <div class="col-md-4">
          <label class="form-label">GA Weeks</label>
          <input type="number" id="scanWeeks" class="form-control" min="0" max="42" />
        </div>
        <div class="col-md-4">
          <label class="form-label">GA Days</label>
          <input type="number" id="scanDays" class="form-control" min="0" max="6" />
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-3">Calculate</button>
    </form>

    <!-- Results -->
    <div id="results" class="mt-5 d-none">
      <div class="card p-4 shadow-sm mb-4">
        <h4>Your Pregnancy Summary</h4>
        <div id="summaryText" class="mb-3"></div>
        <div id="recommendations"></div>
      </div>

      <div class="card p-4 shadow-sm mb-4">
        <h5>Trimester Milestones</h5>
        <div id="trimesterText"></div>
      </div>

      <div class="card p-4 shadow-sm mb-4">
        <h5>Nutrition & Supplements</h5>
        <div id="nutritionText"></div>
      </div>

      <div class="card p-4 shadow-sm mb-4">
        <h5>Dear Parent üíå</h5>
        <div id="dearMomNote" class="fst-italic"></div>
      </div>

      <div class="card p-4 shadow-sm mb-4">
        <h5>Kick Counter</h5>
        <div class="row mb-2">
          <div class="col-auto">
            <button id="kickButton" class="btn btn-outline-primary">üë£ Register Kick</button>
          </div>
          <div class="col-auto">
            <button id="resetKicks" class="btn btn-outline-danger">Reset</button>
          </div>
        </div>
        <p class="mt-2">Total kicks today: <strong id="kickCount">0</strong></p>
        <div class="d-flex justify-content-between align-items-center my-3">
          <div>
            <label for="kickDateSelector" class="form-label mb-0">Select Date</label>
            <input type="text" id="kickDateSelector" class="form-control d-inline-block w-auto" />
          </div>
          <div>
            <label for="blockRange" class="form-label mb-0">Show by</label>
            <select id="blockRange" class="form-select d-inline-block w-auto">
              <option value="24">Full Day</option>
              <option value="12">12 Hours</option>
              <option value="6" selected>6 Hours</option>
            </select>
          </div>
        </div>
        
        <div id="kickBreakdown" class="mt-3"></div>
        
        <div id="recentKickHistory" class="mt-4"></div>
        
        <hr>
        <h6>Add Manual Kicks</h6>
        <div class="row g-2 align-items-end">
          <div class="col-md-5">
            <label for="manualKickDate" class="form-label">Date</label>
            <input type="text" id="manualKickDate" class="form-control" />
          </div>
          <div class="col-md-5">
            <label for="manualKickCount" class="form-label">How many kicks?</label>
            <input type="number" id="manualKickCount" class="form-control" min="1" />
          </div>
          <div class="col-md-2">
            <button id="manualKickAdd" class="btn btn-success w-100">Add</button>
          </div>
        </div>

      </div>

      <div class="text-center mt-3">
        <button onclick="window.print()" class="btn btn-outline-secondary">üñ®Ô∏è Print / Save Summary</button>
      </div>
      <div class="text-center mt-3">
        <button class="btn btn-sm btn-danger mt-2" onclick="localStorage.clear(); location.reload();">
          üóëÔ∏è Clear My Tracker Data
        </button>
      </div>
    </div>

    <!-- Calculation Info -->
    <div class="text-end mt-4">
      <a href="#" data-bs-toggle="modal" data-bs-target="#calcLogicModal" class="btn btn-link">How is this calculated?</a>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="calcLogicModal" tabindex="-1" aria-labelledby="calcLogicModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="calcLogicModalLabel">Calculation Methodology</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h6>üî¢ General Pregnancy Calculation Assumptions</h6>
          <ul>
            <li>Full-term pregnancy is assumed to be <strong>280 days (40 weeks)</strong> from LMP.</li>
            <li>Each month ‚âà 4 weeks, but some months are longer.</li>
            <li>Gestational Age (GA) includes the 2 weeks before conception.</li>
          </ul>
          <hr>
          <h6>üìÖ Methods Explained</h6>
          <ul>
            <li><strong>LMP (Last Menstrual Period):</strong><br>
                GA = Today's Date - LMP Date<br>
                EDD = LMP + 280 days
            </li>
            <li><strong>Conception Date:</strong><br>
                GA = Today's Date - Conception Date<br>
                EDD = Conception + 266 days
            </li>
            <li><strong>EDD (Expected Due Date):</strong><br>
                GA = 280 - (EDD - Today's Date)<br>
                EDD is taken as the fixed input.
            </li>
            <li><strong>Scan Date + Gestational Age:</strong><br>
                EDD = Scan Date + (280 - GA at scan)<br>
                This is considered the most accurate method if available.
            </li>
          </ul>
          <hr>
          <h6>üß† Notes</h6>
          <ul>
            <li>Results are for general reference. Always follow medical advice.</li>
            <li>Ultrasound-based dating (CRL) is often more accurate than LMP.</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
  <script src="kickCounterModule.js"></script>
</body>
<footer class="text-center text-muted mt-5 mb-3 small">
  Made with ‚ù§Ô∏è by 
  <a href="https://www.linkedin.com/in/tousif-md-amin-faisal/" target="_blank">Tousif Md Amin Faisal</a> 
  & OpenAI
</footer>
</html>
